



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Debug annotated Named Entity Recognition (NER) data for inconsitencies and get insights on improving the quality of your data.">
      
      
        <link rel="canonical" href="https://microsoft.github.io/reconner/tutorial/3_dataset_mutate/">
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../img/favicon.ico">
      <meta name="generator" content="mkdocs-1.1, mkdocs-material-4.6.3">
    
    
      
        <title>Making changes to a Dataset - Recon</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.adb8469c.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.a8b3c06d.css">
      
      
        
        
        <meta name="theme-color" content="#fb8c00">
      
    
    
      <script src="../../assets/javascripts/modernizr.86422ebf.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../../css/termynal.css">
    
      <link rel="stylesheet" href="../../css/custom.css">
    
    
      
    
    

  <meta property="og:url" content="https://microsoft.github.io/reconner/tutorial/3_dataset_mutate/">
  
    <meta property="og:title" content="Making changes to a Dataset - Recon">
  
  <meta property="og:description" content="Debug annotated Named Entity Recognition (NER) data for inconsitencies and get insights on improving the quality of your data.">
  <meta property="og:image" content="https://microsoft.github.io/reconner/img/recon.svg">
  <meta property="og:image:alt" content="Recon NER">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@kabir_khan14">
  <meta name="twitter:creator" content="@kabir_khan14">
  
    <meta property="twitter:title" content="Making changes to a Dataset - Recon">
  
  <meta name="twitter:description" content="Debug annotated Named Entity Recognition (NER) data for inconsitencies and get insights on improving the quality of your data.">
  <meta name="twitter:image" content="https://microsoft.github.io/reconner/img/recon.svg">
  <meta name="twitter:image:alt" content="Recon NER">


  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="orange" data-md-color-accent="deep-orange">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#correcting-a-dataset" tabindex="0" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://microsoft.github.io/reconner/" title="Recon" aria-label="Recon" class="md-header-nav__button md-logo">
          
            <img alt="logo" src="../../img/drone-white.svg" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Recon
            </span>
            <span class="md-header-nav__topic">
              
                Making changes to a Dataset
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/microsoft/reconner/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    microsoft/reconner
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://microsoft.github.io/reconner/" title="Recon" class="md-nav__button md-logo">
      
        <img alt="logo" src="../../img/drone-white.svg" width="48" height="48">
      
    </a>
    Recon
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/microsoft/reconner/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    microsoft/reconner
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Recon" class="md-nav__link">
      Recon
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked>
    
    <label class="md-nav__link" for="nav-2">
      Tutorial
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Tutorial
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../1_loading_data/" title="Loading your data" class="md-nav__link">
      Loading your data
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../2_ner_stats/" title="NER Stats" class="md-nav__link">
      NER Stats
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-3" type="checkbox" id="nav-2-3" checked>
    
    <label class="md-nav__link" for="nav-2-3">
      Dataset
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-3">
        Dataset
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../3_dataset_intro/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Making changes to a Dataset
      </label>
    
    <a href="./" title="Making changes to a Dataset" class="md-nav__link md-nav__link--active">
      Making changes to a Dataset
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#correcting-a-dataset" class="md-nav__link">
    Correcting a Dataset
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tracking-operations" class="md-nav__link">
    Tracking operations
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dataset-state" class="md-nav__link">
    Dataset state
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../4_corpus/" title="Using a Corpus" class="md-nav__link">
      Using a Corpus
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../4_more_stats/" title="More NER Stats" class="md-nav__link">
      More NER Stats
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../5_getting_insights/" title="Getting Insights" class="md-nav__link">
      Getting Insights
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../custom_entity_recognizer/" title="Custom EntityRecognizer" class="md-nav__link">
      Custom EntityRecognizer
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      API Reference
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        API Reference
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../api/corpus/" title="Corpus" class="md-nav__link">
      Corpus
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../api/corrections/" title="Corrections" class="md-nav__link">
      Corrections
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../api/dataset/" title="Dataset" class="md-nav__link">
      Dataset
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../api/hashing/" title="Hashing" class="md-nav__link">
      Hashing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../api/insights/" title="Insights" class="md-nav__link">
      Insights
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../api/loaders/" title="Loaders" class="md-nav__link">
      Loaders
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../api/operations/" title="Operations" class="md-nav__link">
      Operations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../api/stats/" title="Stats" class="md-nav__link">
      Stats
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../api/store/" title="Store" class="md-nav__link">
      Store
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../api/tokenization/" title="Tokenization" class="md-nav__link">
      Tokenization
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../api/validation/" title="Validation" class="md-nav__link">
      Validation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-12" type="checkbox" id="nav-3-12">
    
    <label class="md-nav__link" for="nav-3-12">
      Recognizers
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-12">
        Recognizers
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../api/recognizers/base/" title="EntityRecognizer" class="md-nav__link">
      EntityRecognizer
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../api/recognizers/spacy/" title="SpacyEntityRecognizer" class="md-nav__link">
      SpacyEntityRecognizer
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../api/types/example/" title="Types" class="md-nav__link">
      Types
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../contributing/" title="Development - Contributing" class="md-nav__link">
      Development - Contributing
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../release-notes/" title="Release Notes" class="md-nav__link">
      Release Notes
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#correcting-a-dataset" class="md-nav__link">
    Correcting a Dataset
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tracking-operations" class="md-nav__link">
    Tracking operations
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dataset-state" class="md-nav__link">
    Dataset state
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/microsoft/reconner/tree/master/docs/tutorial/3_dataset_mutate.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                  <h1>Making changes to a Dataset</h1>
                
                <p>Now that we have our data managed in a Recon <code>Dataset</code>, we can make corrections to our data automatically and Recon will take care of keeping track of all operations and transformations run on our data.</p>
<p>The key is the <code>Dataset.apply_</code> funciton. </p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>It's a common python convention that as far as I know was popularized by PyTorch to have a function return a value (i.e. <code>apply</code>) and a that same function name followed by an underscore (i.e. <code>apply_</code>) operate on that data inplace.</p>
</div>
<h2 id="correcting-a-dataset">Correcting a Dataset<a class="headerlink" href="#correcting-a-dataset" title="Permanent link">&para;</a></h2>
<p><code>Dataset.apply_</code> requires a registered in-place operation that will run across all examples in the Dataset's data.</p>
<p>Let's see an example.</p>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>

<span class="kn">import</span> <span class="nn">typer</span>
<span class="kn">from</span> <span class="nn">recon.dataset</span> <span class="kn">import</span> <span class="n">Dataset</span>
<span class="kn">from</span> <span class="nn">recon.stats</span> <span class="kn">import</span> <span class="n">get_ner_stats</span>


<span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="n">data_file</span><span class="p">:</span> <span class="n">Path</span><span class="p">,</span> <span class="n">output_file</span><span class="p">:</span> <span class="n">Path</span><span class="p">):</span>
    <span class="n">ds</span> <span class="o">=</span> <span class="n">Dataset</span><span class="p">(</span><span class="s2">&quot;train&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">from_disk</span><span class="p">(</span><span class="n">data_file</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;STATS BEFORE&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;============&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">get_ner_stats</span><span class="p">,</span> <span class="n">serialize</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>

<span class="hll">    <span class="n">ds</span><span class="o">.</span><span class="n">apply_</span><span class="p">(</span><span class="s2">&quot;recon.v1.upcase_labels&quot;</span><span class="p">)</span>
</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;STATS AFTER&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;===========&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">get_ner_stats</span><span class="p">,</span> <span class="n">serialize</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">typer</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">main</span>
</code></pre></div>

<div class="termy">

<div class="codehilite"><pre><span></span><code><span class="gp">$</span> python main.py examples/data/skills/train.jsonl

<span class="go">STATS BEFORE</span>
<span class="go">============</span>
<span class="go">{</span>
<span class="go">    &quot;n_examples&quot;:106,</span>
<span class="go">    &quot;n_examples_no_entities&quot;:29,</span>
<span class="go">    &quot;n_annotations&quot;:243,</span>
<span class="go">    &quot;n_annotations_per_type&quot;:{</span>
<span class="go">        &quot;SKILL&quot;:197,</span>
<span class="go">        &quot;PRODUCT&quot;:33,</span>
<span class="go">        &quot;JOB_ROLE&quot;:10,</span>
<span class="go">        &quot;skill&quot;:2,</span>
<span class="go">        &quot;product&quot;:1</span>
<span class="go">    },</span>
<span class="go">    &quot;examples_with_type&quot;:null</span>
<span class="go">}</span>
<span class="go">STATS AFTER</span>
<span class="go">===========</span>
<span class="go">{</span>
<span class="go">    &quot;n_examples&quot;:106,</span>
<span class="go">    &quot;n_examples_no_entities&quot;:29,</span>
<span class="go">    &quot;n_annotations&quot;:243,</span>
<span class="go">    &quot;n_annotations_per_type&quot;:{</span>
<span class="go">        &quot;SKILL&quot;:199,</span>
<span class="go">        &quot;PRODUCT&quot;:34,</span>
<span class="go">        &quot;JOB_ROLE&quot;:10</span>
<span class="go">    },</span>
<span class="go">    &quot;examples_with_type&quot;:null</span>
<span class="go">}</span>
</code></pre></div>
</div>

<p>Nice! We've easily applied the built-in "upcase_labels" function from Recon to fix our obvious mistakes.</p>
<p>But that's not all...</p>
<h2 id="tracking-operations">Tracking operations<a class="headerlink" href="#tracking-operations" title="Permanent link">&para;</a></h2>
<p>It would be really easy to lose track of the operations run on our data if we ran a bunch of operations. Even with our single operation, we'd have to save a copy of the data before running the <code>upcase_labels</code> operation and drill into both versions of the dataset to identify which examples we actually changed. Recon takes care of this tracking for us.</p>
<p>Let's extend our previous example by saving our new Dataset to disk using (conveniently) <code>Dataset.to_disk</code>. </p>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>

<span class="kn">import</span> <span class="nn">typer</span>
<span class="kn">from</span> <span class="nn">recon.dataset</span> <span class="kn">import</span> <span class="n">Dataset</span>
<span class="kn">from</span> <span class="nn">recon.stats</span> <span class="kn">import</span> <span class="n">get_ner_stats</span>


<span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="n">data_file</span><span class="p">:</span> <span class="n">Path</span><span class="p">,</span> <span class="n">output_file</span><span class="p">:</span> <span class="n">Path</span><span class="p">):</span>
    <span class="n">ds</span> <span class="o">=</span> <span class="n">Dataset</span><span class="p">(</span><span class="s2">&quot;train&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">from_disk</span><span class="p">(</span><span class="n">data_file</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;STATS BEFORE&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;============&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">get_ner_stats</span><span class="p">,</span> <span class="n">serialize</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>

    <span class="n">ds</span><span class="o">.</span><span class="n">apply_</span><span class="p">(</span><span class="s2">&quot;recon.v1.upcase_labels&quot;</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;STATS AFTER&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;===========&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">get_ner_stats</span><span class="p">,</span> <span class="n">serialize</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>

<span class="hll">    <span class="n">ds</span><span class="o">.</span><span class="n">to_disk</span><span class="p">(</span><span class="n">output_file</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">typer</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">main</span>
</code></pre></div>

<div class="termy">

<div class="codehilite"><pre><span></span><code><span class="gp">$</span> python main.py examples/data/skills/train.jsonl examples/fixed_data/skills/train.jsonl

<span class="go">STATS BEFORE</span>
<span class="go">============</span>
<span class="go">{</span>
<span class="go">    &quot;n_examples&quot;:106,</span>
<span class="go">    &quot;n_examples_no_entities&quot;:29,</span>
<span class="go">    &quot;n_annotations&quot;:243,</span>
<span class="go">    &quot;n_annotations_per_type&quot;:{</span>
<span class="go">        &quot;SKILL&quot;:197,</span>
<span class="go">        &quot;PRODUCT&quot;:33,</span>
<span class="go">        &quot;JOB_ROLE&quot;:10,</span>
<span class="go">        &quot;skill&quot;:2,</span>
<span class="go">        &quot;product&quot;:1</span>
<span class="go">    },</span>
<span class="go">    &quot;examples_with_type&quot;:null</span>
<span class="go">}</span>
<span class="go">STATS AFTER</span>
<span class="go">===========</span>
<span class="go">{</span>
<span class="go">    &quot;n_examples&quot;:106,</span>
<span class="go">    &quot;n_examples_no_entities&quot;:29,</span>
<span class="go">    &quot;n_annotations&quot;:243,</span>
<span class="go">    &quot;n_annotations_per_type&quot;:{</span>
<span class="go">        &quot;SKILL&quot;:199,</span>
<span class="go">        &quot;PRODUCT&quot;:34,</span>
<span class="go">        &quot;JOB_ROLE&quot;:10</span>
<span class="go">    },</span>
<span class="go">    &quot;examples_with_type&quot;:null</span>
<span class="go">}</span>
</code></pre></div>
</div>

<p>This should have the same console output as before.</p>
<p>Let's investigate what Recon saved.</p>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>

<span class="kn">import</span> <span class="nn">typer</span>
<span class="kn">from</span> <span class="nn">recon.dataset</span> <span class="kn">import</span> <span class="n">Dataset</span>
<span class="kn">from</span> <span class="nn">recon.stats</span> <span class="kn">import</span> <span class="n">get_ner_stats</span>


<span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="n">data_file</span><span class="p">:</span> <span class="n">Path</span><span class="p">,</span> <span class="n">output_file</span><span class="p">:</span> <span class="n">Path</span><span class="p">):</span>
    <span class="n">ds</span> <span class="o">=</span> <span class="n">Dataset</span><span class="p">(</span><span class="s2">&quot;train&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">from_disk</span><span class="p">(</span><span class="n">data_file</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;STATS BEFORE&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;============&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">get_ner_stats</span><span class="p">,</span> <span class="n">serialize</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>

<span class="hll">    <span class="n">ds</span><span class="o">.</span><span class="n">apply_</span><span class="p">(</span><span class="s2">&quot;recon.v1.upcase_labels&quot;</span><span class="p">)</span>
</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;STATS AFTER&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;===========&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">get_ner_stats</span><span class="p">,</span> <span class="n">serialize</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">typer</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">main</span>
</code></pre></div>

<div class="termy">

<div class="codehilite"><pre><span></span><code><span class="gp">$</span> ll -a examples/fixed_data/skills

<span class="go">├── .recon</span>
<span class="go">├── train.jsonl</span>

<span class="go">// train.jsonl is just our serialized data from our train Dataset</span>
<span class="go">// What&#39;s in .recon?</span>

<span class="gp">$</span> tree -a examples/fixed_data/skills/

<span class="go">examples/fixed_data/skills/</span>
<span class="go">├── .recon</span>
<span class="go">│   ├── example_store.jsonl</span>
<span class="go">│   └── train</span>
<span class="go">│       └── state.json</span>
<span class="go">└── train.jsonl</span>

<span class="go">// Let&#39;s investigate the state.json for our train dataset.</span>

<span class="gp">$</span> cat examples/fixed_data/skills/.recon/train/state.json

<span class="go">{</span>
<span class="go">    &quot;name&quot;: &quot;train&quot;,</span>
<span class="go">    &quot;commit_hash&quot;: &quot;375a4cdec36fa9e0efd1d7b2a02fb4287b99dbdc&quot;,</span>
<span class="go">    &quot;operations&quot;: [</span>
<span class="go">        {</span>
<span class="go">            &quot;name&quot;:&quot;recon.v1.upcase_labels&quot;,</span>
<span class="go">            &quot;args&quot;:[],</span>
<span class="go">            &quot;kwargs&quot;:{},</span>
<span class="go">            &quot;status&quot;:&quot;COMPLETED&quot;,</span>
<span class="go">            &quot;ts&quot;:1586687281,</span>
<span class="go">            &quot;examples_added&quot;:0,</span>
<span class="go">            &quot;examples_removed&quot;:0,</span>
<span class="go">            &quot;examples_changed&quot;:3,</span>
<span class="go">            &quot;transformations&quot;:[</span>
<span class="go">                {</span>
<span class="go">                    &quot;prev_example&quot;:1923088532738022750,</span>
<span class="go">                    &quot;example&quot;:1401028415299739275,</span>
<span class="go">                    &quot;type&quot;:&quot;EXAMPLE_CHANGED&quot;</span>
<span class="go">                },</span>
<span class="go">                {</span>
<span class="go">                    &quot;prev_example&quot;:459906967662468309,</span>
<span class="go">                    &quot;example&quot;:1525998324968157929,</span>
<span class="go">                    &quot;type&quot;:&quot;EXAMPLE_CHANGED&quot;</span>
<span class="go">                },</span>
<span class="go">                {</span>
<span class="go">                    &quot;prev_example&quot;:200276835658424828,</span>
<span class="go">                    &quot;example&quot;:407710308633891847,</span>
<span class="go">                    &quot;type&quot;:&quot;EXAMPLE_CHANGED&quot;</span>
<span class="go">                }</span>
<span class="go">            ]</span>
<span class="go">        }</span>
<span class="go">    ]</span>
<span class="go">}</span>
</code></pre></div>
</div>

<p>In the last command above you can see the output of what Recon saves when you call <code>Dataset.to_disk</code>.</p>
<p>Let's dig into the saved state a bit more.</p>
<h2 id="dataset-state">Dataset state<a class="headerlink" href="#dataset-state" title="Permanent link">&para;</a></h2>
<p>The first property stored is the dataset name. Pretty self-explanatory.
The second, <code>commit</code>, is a bit more complex. </p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>A core principal of Recon is that all the data types can be hashed deterministically. This means you'll get the same hash if across Python environments and sessions for each core data type including: Corpus, Dataset, Example, Span and Token. </p>
</div>
<p>The <code>commit</code> property is a SHA-1 hash of the dataset
name combined with that hash of each example in the dataset.
If you're familiar with how <a href="https://git-scm.com/">git</a> works the idea is pretty similar.</p>
<p>The <code>commit</code> property of a dataset allows us to understand if a Dataset changes between operations. 
This can happen if you add new examples and want to rerun or run new operations later based on insights from that new data.</p>
<div class="codehilite"><pre><span></span><code><span class="p">{</span>
    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;train&quot;</span><span class="p">,</span>
    <span class="nt">&quot;commit_hash&quot;</span><span class="p">:</span> <span class="s2">&quot;375a4cdec36fa9e0efd1d7b2a02fb4287b99dbdc&quot;</span><span class="p">,</span>
<span class="hll">    <span class="nt">&quot;operations&quot;</span><span class="p">:</span> <span class="p">[</span>
</span>        <span class="p">{</span>
<span class="hll">            <span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;recon.v1.upcase_labels&quot;</span><span class="p">,</span>
</span><span class="hll">            <span class="nt">&quot;args&quot;</span><span class="p">:[],</span>
</span><span class="hll">            <span class="nt">&quot;kwargs&quot;</span><span class="p">:{},</span>
</span><span class="hll">            <span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="s2">&quot;COMPLETED&quot;</span><span class="p">,</span>
</span><span class="hll">            <span class="nt">&quot;ts&quot;</span><span class="p">:</span><span class="mi">1586687281</span><span class="p">,</span>
</span>            <span class="nt">&quot;examples_added&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
            <span class="nt">&quot;examples_removed&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
            <span class="nt">&quot;examples_changed&quot;</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span>
            <span class="nt">&quot;transformations&quot;</span><span class="p">:[</span>
                <span class="p">{</span>
                    <span class="nt">&quot;prev_example&quot;</span><span class="p">:</span><span class="mi">1923088532738022750</span><span class="p">,</span>
                    <span class="nt">&quot;example&quot;</span><span class="p">:</span><span class="mi">1401028415299739275</span><span class="p">,</span>
                    <span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;EXAMPLE_CHANGED&quot;</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="nt">&quot;prev_example&quot;</span><span class="p">:</span><span class="mi">459906967662468309</span><span class="p">,</span>
                    <span class="nt">&quot;example&quot;</span><span class="p">:</span><span class="mi">1525998324968157929</span><span class="p">,</span>
                    <span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;EXAMPLE_CHANGED&quot;</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="nt">&quot;prev_example&quot;</span><span class="p">:</span><span class="mi">200276835658424828</span><span class="p">,</span>
                    <span class="nt">&quot;example&quot;</span><span class="p">:</span><span class="mi">407710308633891847</span><span class="p">,</span>
                    <span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;EXAMPLE_CHANGED&quot;</span>
                <span class="p">}</span>
            <span class="p">]</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</code></pre></div>

<p>The core of the stored state is the <code>operations</code> property. This operations property has all the information needed to both track and re-run an operation on a dataset.</p>
<p>In the above state we have 1 operation since that's all we've run on our dataset so far.</p>
<p>Each operation has a <code>name</code> (in this case <code>"recon.v1.upcase_labels"</code>) as well as any python <code>args</code> or <code>kwargs</code> run with the function. The <code>upcase_labels</code> operation has no required parameters so these are empty (we'll see some examples where these are not empty later in the tutorial).</p>
<p>We also have a <code>status</code> (one of: NOT_STARTED, IN_PROGRESS, COMPLETED) and a <code>ts</code> (timestamp of when the operation was run).</p>
<p>These attributes provide the base information to re-create the exact function call and provide the base information of the operation.</p>
<p>The rest of the properties deal with transformation tracking.
The <code>examples_added</code>, <code>examples_removed</code>, <code>examples_changed</code> give you a summary of the overall changes by the operation.</p>
<div class="codehilite"><pre><span></span><code><span class="p">{</span>
    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;train&quot;</span><span class="p">,</span>
    <span class="nt">&quot;commit_hash&quot;</span><span class="p">:</span> <span class="s2">&quot;375a4cdec36fa9e0efd1d7b2a02fb4287b99dbdc&quot;</span><span class="p">,</span>
    <span class="nt">&quot;operations&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;recon.v1.upcase_labels&quot;</span><span class="p">,</span>
            <span class="nt">&quot;args&quot;</span><span class="p">:[],</span>
            <span class="nt">&quot;kwargs&quot;</span><span class="p">:{},</span>
            <span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="s2">&quot;COMPLETED&quot;</span><span class="p">,</span>
            <span class="nt">&quot;ts&quot;</span><span class="p">:</span><span class="mi">1586687281</span><span class="p">,</span>
<span class="hll">            <span class="nt">&quot;examples_added&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
</span><span class="hll">            <span class="nt">&quot;examples_removed&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
</span><span class="hll">            <span class="nt">&quot;examples_changed&quot;</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span>
</span>            <span class="nt">&quot;transformations&quot;</span><span class="p">:[</span>
                <span class="p">{</span>
                    <span class="nt">&quot;prev_example&quot;</span><span class="p">:</span><span class="mi">1923088532738022750</span><span class="p">,</span>
                    <span class="nt">&quot;example&quot;</span><span class="p">:</span><span class="mi">1401028415299739275</span><span class="p">,</span>
                    <span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;EXAMPLE_CHANGED&quot;</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="nt">&quot;prev_example&quot;</span><span class="p">:</span><span class="mi">459906967662468309</span><span class="p">,</span>
                    <span class="nt">&quot;example&quot;</span><span class="p">:</span><span class="mi">1525998324968157929</span><span class="p">,</span>
                    <span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;EXAMPLE_CHANGED&quot;</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="nt">&quot;prev_example&quot;</span><span class="p">:</span><span class="mi">200276835658424828</span><span class="p">,</span>
                    <span class="nt">&quot;example&quot;</span><span class="p">:</span><span class="mi">407710308633891847</span><span class="p">,</span>
                    <span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;EXAMPLE_CHANGED&quot;</span>
                <span class="p">}</span>
            <span class="p">]</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</code></pre></div>

<p>Finally, the <code>transformations</code> property is the most useful for actually auditing and tracking your data changes.
Each transformation has a <code>prev_example</code>, <code>example</code> and transformation <code>type</code>. </p>
<p>The example properties contain the Example hash or the example before and after the transformation occured. This is really not useful by itself, but these hashes coincide to the hash -&gt; Example mappings in the example_store.jsonl file that Recon saves for you. The ExampleStore is a central store that keeps track of all examples you've ever had in your dataset. This way, we can always revert back or see a concrete comparison of what each operation added/removed/changed by resolving the transformations to their corresponding examples.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Having an ExampleStore is obviously more than doubling the storage required for your data but NER datasets are ususually not that big since they're hard to annotate. For reference, Recon has been tested on a Dataset of 200K examples with no issue.</p>
</div>
<p>The transformation <code>type</code> will always be one of (EXAMPLE_ADDED, EXAMPLE_REMOVED, or EXAMPLE_CHANGED).</p>
<ul>
<li>EXAMPLE_ADDED - In this case, the <code>prev_example</code> property will be <code>null</code> since we're just adding an example to our dataset.
    This can happen if an operation returns more than one example for every example it sees. A good reference example is the <a href="link/to/split_sentences"><code>recon.v1.split_sentences</code></a> operation. This operation will find all the sentences in an example and split them out into separate examples. </li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>So if an example has 2 sentences, Recon will track this operation as removing the original example and adding 2 examples. You'll see those reflected in the transformations</p>
</div>
<ul>
<li>EXAMPLE_REMOVED - By default, Recon removes Examples that have bad final annotations that can't be properly resolved to token boundaries. Good reference examples for this behavior are the operations <a href="link/to/fix_tokenization_and_spacing"><code>recon.v1.fix_tokenization_and_spacing</code></a> and <a href="link/to/add_tokens"><code>recon.v1.add_tokens</code></a></li>
</ul>
<div class="codehilite"><pre><span></span><code><span class="p">{</span>
    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;train&quot;</span><span class="p">,</span>
    <span class="nt">&quot;commit_hash&quot;</span><span class="p">:</span> <span class="s2">&quot;375a4cdec36fa9e0efd1d7b2a02fb4287b99dbdc&quot;</span><span class="p">,</span>
    <span class="nt">&quot;operations&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;recon.v1.upcase_labels&quot;</span><span class="p">,</span>
            <span class="nt">&quot;args&quot;</span><span class="p">:[],</span>
            <span class="nt">&quot;kwargs&quot;</span><span class="p">:{},</span>
            <span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="s2">&quot;COMPLETED&quot;</span><span class="p">,</span>
            <span class="nt">&quot;ts&quot;</span><span class="p">:</span><span class="mi">1586687281</span><span class="p">,</span>
            <span class="nt">&quot;examples_added&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
            <span class="nt">&quot;examples_removed&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
            <span class="nt">&quot;examples_changed&quot;</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span>
<span class="hll">            <span class="nt">&quot;transformations&quot;</span><span class="p">:[</span>
</span>                <span class="p">{</span>
<span class="hll">                    <span class="nt">&quot;prev_example&quot;</span><span class="p">:</span><span class="mi">1923088532738022750</span><span class="p">,</span>
</span><span class="hll">                    <span class="nt">&quot;example&quot;</span><span class="p">:</span><span class="mi">1401028415299739275</span><span class="p">,</span>
</span><span class="hll">                    <span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;EXAMPLE_CHANGED&quot;</span>
</span>                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="nt">&quot;prev_example&quot;</span><span class="p">:</span><span class="mi">459906967662468309</span><span class="p">,</span>
                    <span class="nt">&quot;example&quot;</span><span class="p">:</span><span class="mi">1525998324968157929</span><span class="p">,</span>
                    <span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;EXAMPLE_CHANGED&quot;</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="nt">&quot;prev_example&quot;</span><span class="p">:</span><span class="mi">200276835658424828</span><span class="p">,</span>
                    <span class="nt">&quot;example&quot;</span><span class="p">:</span><span class="mi">407710308633891847</span><span class="p">,</span>
                    <span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;EXAMPLE_CHANGED&quot;</span>
                <span class="p">}</span>
            <span class="p">]</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
                
                  
                
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../3_dataset_intro/" title="Introduction" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Introduction
              </span>
            </div>
          </a>
        
        
          <a href="../4_corpus/" title="Using a Corpus" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Using a Corpus
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org" target="_blank" rel="noopener">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs</a>
      </div>
      
  <div class="md-footer-social">
    <link rel="stylesheet" href="../../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/microsoft/reconner" target="_blank" rel="noopener" title="github" class="md-footer-social__link fa fa-github"></a>
    
      <a href="https://twitter.com/kabir_khan14" target="_blank" rel="noopener" title="twitter" class="md-footer-social__link fa fa-twitter"></a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.c33a9706.js"></script>
      
      <script>app.initialize({version:"1.1",url:{base:"../.."}})</script>
      
        <script src="../../js/termynal.js"></script>
      
        <script src="https://unpkg.com/mermaid@8.4.6/dist/mermaid.min.js"></script>
      
        <script src="../../js/custom.js"></script>
      
    
  </body>
</html>